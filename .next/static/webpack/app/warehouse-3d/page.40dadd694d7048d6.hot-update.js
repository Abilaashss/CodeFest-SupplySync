"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/warehouse-3d/page",{

/***/ "(app-pages-browser)/./src/components/3d/WarehouseSimulation.ts":
/*!**************************************************!*\
  !*** ./src/components/3d/WarehouseSimulation.ts ***!
  \**************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WarehouseSimulation: function() { return /* binding */ WarehouseSimulation; }\n/* harmony export */ });\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ \"(app-pages-browser)/./node_modules/three/build/three.core.js\");\n/* harmony import */ var three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! three/examples/jsm/controls/OrbitControls */ \"(app-pages-browser)/./node_modules/three/examples/jsm/controls/OrbitControls.js\");\n/* harmony import */ var three_examples_jsm_libs_lil_gui_module_min_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! three/examples/jsm/libs/lil-gui.module.min.js */ \"(app-pages-browser)/./node_modules/three/examples/jsm/libs/lil-gui.module.min.js\");\n/* harmony import */ var _tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @tweenjs/tween.js */ \"(app-pages-browser)/./node_modules/@tweenjs/tween.js/dist/tween.esm.js\");\n\n\n\n\nclass WarehouseSimulation {\n    createWarehouse() {\n        const warehouse = new three__WEBPACK_IMPORTED_MODULE_1__.Group();\n        // Floor\n        const floorGeometry = new three__WEBPACK_IMPORTED_MODULE_1__.PlaneGeometry(50, 50);\n        const floorMaterial = new three__WEBPACK_IMPORTED_MODULE_1__.MeshStandardMaterial({\n            color: 0x808080\n        });\n        const floor = new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(floorGeometry, floorMaterial);\n        floor.rotation.x = -Math.PI / 2;\n        floor.receiveShadow = true;\n        warehouse.add(floor);\n        // Walls\n        const wallMaterial = new three__WEBPACK_IMPORTED_MODULE_1__.MeshStandardMaterial({\n            color: 0xcccccc\n        });\n        const wallGeometry = new three__WEBPACK_IMPORTED_MODULE_1__.BoxGeometry(50, 20, 1);\n        const backWall = new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(wallGeometry, wallMaterial);\n        backWall.position.set(0, 10, -25);\n        warehouse.add(backWall);\n        const leftWall = new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(wallGeometry, wallMaterial);\n        leftWall.rotation.y = Math.PI / 2;\n        leftWall.position.set(-25, 10, 0);\n        warehouse.add(leftWall);\n        const rightWall = new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(wallGeometry, wallMaterial);\n        rightWall.rotation.y = Math.PI / 2;\n        rightWall.position.set(25, 10, 0);\n        warehouse.add(rightWall);\n        this.scene.add(warehouse);\n        return warehouse;\n    }\n    createZones() {\n        const zones = new three__WEBPACK_IMPORTED_MODULE_1__.Group();\n        const zoneGeometry = new three__WEBPACK_IMPORTED_MODULE_1__.BoxGeometry(8, 0.1, 8);\n        const zoneMaterials = [\n            new three__WEBPACK_IMPORTED_MODULE_1__.MeshStandardMaterial({\n                color: 0xff9999\n            }),\n            new three__WEBPACK_IMPORTED_MODULE_1__.MeshStandardMaterial({\n                color: 0x99ff99\n            }),\n            new three__WEBPACK_IMPORTED_MODULE_1__.MeshStandardMaterial({\n                color: 0x9999ff\n            }),\n            new three__WEBPACK_IMPORTED_MODULE_1__.MeshStandardMaterial({\n                color: 0xffff99\n            }),\n            new three__WEBPACK_IMPORTED_MODULE_1__.MeshStandardMaterial({\n                color: 0xff99ff\n            })\n        ];\n        for(let i = 0; i < 5; i++){\n            const zone = new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(zoneGeometry, zoneMaterials[i]);\n            zone.position.set(-16 + i * 8, 0.1, 0);\n            zone.receiveShadow = true;\n            zones.add(zone);\n        }\n        this.scene.add(zones);\n        return zones;\n    }\n    createTruck(position) {\n        const truck = new three__WEBPACK_IMPORTED_MODULE_1__.Group();\n        // Truck body\n        const bodyGeometry = new three__WEBPACK_IMPORTED_MODULE_1__.BoxGeometry(6, 4, 10);\n        const bodyMaterial = new three__WEBPACK_IMPORTED_MODULE_1__.MeshStandardMaterial({\n            color: 0x3366cc\n        });\n        const body = new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(bodyGeometry, bodyMaterial);\n        body.position.y = 2;\n        truck.add(body);\n        // Wheels\n        const wheelGeometry = new three__WEBPACK_IMPORTED_MODULE_1__.CylinderGeometry(1, 1, 0.5, 16);\n        const wheelMaterial = new three__WEBPACK_IMPORTED_MODULE_1__.MeshStandardMaterial({\n            color: 0x333333\n        });\n        for(let i = 0; i < 4; i++){\n            const wheel = new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(wheelGeometry, wheelMaterial);\n            wheel.rotation.z = Math.PI / 2;\n            wheel.position.set(i < 2 ? -2 : 2, 0.5, i % 2 === 0 ? -3 : 3);\n            truck.add(wheel);\n        }\n        // Update truck label\n        const label = document.createElement(\"div\");\n        label.className = \"truck-label\";\n        label.setAttribute(\"data-truck\", position.toString());\n        label.style.position = \"absolute\";\n        label.style.visibility = \"visible\";\n        document.body.appendChild(label);\n        // Add lights to truck\n        const truckLight = new three__WEBPACK_IMPORTED_MODULE_1__.PointLight(0xffffff, 0.5);\n        truckLight.position.set(0, 4, 0);\n        truck.add(truckLight);\n        truck.position.copy(position);\n        truck.castShadow = true;\n        truck.traverse((child)=>{\n            if (child instanceof three__WEBPACK_IMPORTED_MODULE_1__.Mesh) {\n                child.castShadow = true;\n                child.receiveShadow = true;\n            }\n        });\n        this.scene.add(truck);\n        return truck;\n    }\n    createZoneLabels() {\n        // Remove existing labels\n        this.zoneLabels.forEach((label)=>{\n            if (label.parentElement) {\n                label.parentElement.removeChild(label);\n            }\n        });\n        this.zoneLabels = [];\n        // Create new labels\n        this.zones.children.forEach((zone, index)=>{\n            const label = document.createElement(\"div\");\n            label.className = \"zone-label\";\n            label.textContent = \"Zone \".concat(index + 1);\n            document.body.appendChild(label);\n            this.zoneLabels.push(label);\n        });\n    }\n    updateZoneLabels() {\n        this.zones.children.forEach((zone, index)=>{\n            const label = this.zoneLabels[index];\n            if (label) {\n                const position = zone.position.clone();\n                position.project(this.camera);\n                const x = (position.x * 0.5 + 0.5) * window.innerWidth;\n                const y = (-position.y * 0.5 + 0.5) * window.innerHeight;\n                label.style.transform = \"translate(-50%, -50%) translate(\".concat(x, \"px, \").concat(y, \"px)\");\n            }\n        });\n        // Update truck labels with better visibility check\n        this.trucks.forEach((truck)=>{\n            const position = truck.model.position.clone();\n            position.project(this.camera);\n            if (position.z < 1) {\n                const x = (position.x * 0.5 + 0.5) * window.innerWidth;\n                const y = (-position.y * 0.5 + 0.5) * window.innerHeight;\n                const label = document.querySelector('.truck-label[data-truck=\"'.concat(truck.id, '\"]'));\n                if (label instanceof HTMLElement) {\n                    label.style.visibility = \"visible\";\n                    label.textContent = \"\".concat(truck.id.toUpperCase(), \"\\n\").concat(truck.currentLoad, \"/\").concat(truck.capacity);\n                    label.style.transform = \"translate(-50%, -50%) translate(\".concat(x, \"px, \").concat(y, \"px)\");\n                }\n            }\n        });\n    }\n    setupGUI() {\n        const params = {\n            productType: \"wheel\",\n            zone: 0,\n            truck: \"truck-a\",\n            addProduct: ()=>this.addProductToZone(),\n            loadInTruck: ()=>this.removeProductFromZone(),\n            startTruck: ()=>this.startSelectedTruck()\n        };\n        this.gui.add(params, \"productType\", [\n            \"wheel\",\n            \"box\",\n            \"cylinder\"\n        ]).onChange((value)=>this.currentProductType = value);\n        const zoneOptions = {};\n        for(let i = 1; i <= 5; i++){\n            zoneOptions[\"Zone \".concat(i)] = i - 1;\n        }\n        this.gui.add(params, \"zone\", zoneOptions).onChange((value)=>this.selectedZone = value);\n        // Add truck selection\n        const truckOptions = {};\n        this.trucks.forEach((truck, id)=>{\n            truckOptions[\"\".concat(id.toUpperCase(), \" (\").concat(truck.capacity, \")\")] = id;\n        });\n        this.gui.add(params, \"truck\", truckOptions).onChange((value)=>this.selectedTruck = value);\n        this.gui.add(params, \"addProduct\");\n        this.gui.add(params, \"loadInTruck\");\n        this.gui.add(params, \"startTruck\");\n    }\n    addProductToZone() {\n        var _this_inventory_get;\n        const zoneProducts = this.inventory.get(this.selectedZone) || [];\n        if (zoneProducts.length >= this.ZONE_CAPACITY) {\n            console.warn(\"Zone \".concat(this.selectedZone + 1, \" is at full capacity!\"));\n            return;\n        }\n        const product = this.createProduct(this.currentProductType);\n        const zone = this.zones.children[this.selectedZone];\n        product.position.copy(zone.position);\n        product.position.y = 2 + zoneProducts.length * 0.5;\n        this.scene.add(product);\n        if (!this.inventory.has(this.selectedZone)) {\n            this.inventory.set(this.selectedZone, []);\n        }\n        (_this_inventory_get = this.inventory.get(this.selectedZone)) === null || _this_inventory_get === void 0 ? void 0 : _this_inventory_get.push(product);\n    }\n    removeProductFromZone() {\n        const products = this.inventory.get(this.selectedZone);\n        const truck = this.trucks.get(this.selectedTruck);\n        if (!truck || truck.currentLoad >= truck.capacity) {\n            console.warn(\"Truck \".concat(this.selectedTruck.toUpperCase(), \" is at full capacity!\"));\n            return;\n        }\n        if (products && products.length > 0) {\n            const product = products.pop();\n            if (product) {\n                truck.currentLoad += 1 // Simplified load calculation\n                ;\n                new _tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Tween(product.position).to({\n                    x: truck.model.position.x,\n                    y: 2 + truck.currentLoad * 0.1,\n                    z: truck.model.position.z\n                }, 1000).easing(_tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Easing.Quadratic.Out).onComplete(()=>{\n                    this.scene.remove(product);\n                }).start();\n            }\n        }\n    }\n    startSelectedTruck() {\n        const truck = this.trucks.get(this.selectedTruck);\n        if (!truck) return;\n        const originalPosition = truck.position.clone();\n        new _tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Tween(truck.model.position).to({\n            z: 30\n        }, 2000).easing(_tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Easing.Quadratic.InOut).onComplete(()=>{\n            truck.currentLoad = 0 // Reset load when truck completes delivery\n            ;\n            truck.model.position.copy(originalPosition);\n        }).start();\n    }\n    createProduct(type) {\n        let geometry;\n        let material;\n        switch(type){\n            case \"wheel\":\n                geometry = new three__WEBPACK_IMPORTED_MODULE_1__.TorusGeometry(0.5, 0.2, 16, 32);\n                material = new three__WEBPACK_IMPORTED_MODULE_1__.MeshStandardMaterial({\n                    color: 0x333333\n                });\n                break;\n            case \"box\":\n                geometry = new three__WEBPACK_IMPORTED_MODULE_1__.BoxGeometry(1, 1, 1);\n                material = new three__WEBPACK_IMPORTED_MODULE_1__.MeshStandardMaterial({\n                    color: 0x995533\n                });\n                break;\n            case \"cylinder\":\n                geometry = new three__WEBPACK_IMPORTED_MODULE_1__.CylinderGeometry(0.5, 0.5, 1, 16);\n                material = new three__WEBPACK_IMPORTED_MODULE_1__.MeshStandardMaterial({\n                    color: 0x339955\n                });\n                break;\n            default:\n                geometry = new three__WEBPACK_IMPORTED_MODULE_1__.BoxGeometry(1, 1, 1);\n                material = new three__WEBPACK_IMPORTED_MODULE_1__.MeshStandardMaterial({\n                    color: 0xcccccc\n                });\n        }\n        const product = new three__WEBPACK_IMPORTED_MODULE_1__.Mesh(geometry, material);\n        product.castShadow = true;\n        return product;\n    }\n    animate() {\n        this.controls.update();\n        this.updateZoneLabels();\n        this.renderer.render(this.scene, this.camera);\n    }\n    dispose() {\n        this.gui.destroy();\n        this.zoneLabels.forEach((label)=>{\n            if (label.parentElement) {\n                label.parentElement.removeChild(label);\n            }\n        });\n        this.scene.traverse((object)=>{\n            if (object instanceof three__WEBPACK_IMPORTED_MODULE_1__.Mesh) {\n                object.geometry.dispose();\n                if (object.material instanceof three__WEBPACK_IMPORTED_MODULE_1__.Material) {\n                    object.material.dispose();\n                }\n            }\n        });\n        this.inventory.clear();\n        document.querySelectorAll(\".truck-label\").forEach((label)=>{\n            if (label.parentElement) {\n                label.parentElement.removeChild(label);\n            }\n        });\n    }\n    constructor(scene, camera, renderer){\n        this.ZONE_CAPACITY = 8;\n        this.scene = scene;\n        this.camera = camera;\n        this.renderer = renderer;\n        this.inventory = new Map();\n        this.zoneLabels = [];\n        this.currentProductType = \"wheel\";\n        this.selectedZone = 0;\n        this.selectedTruck = \"truck-a\";\n        // Setup controls\n        this.controls = new three_examples_jsm_controls_OrbitControls__WEBPACK_IMPORTED_MODULE_2__.OrbitControls(camera, renderer.domElement);\n        this.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.05;\n        // Add lighting\n        const ambientLight = new three__WEBPACK_IMPORTED_MODULE_1__.AmbientLight(0xffffff, 0.5);\n        scene.add(ambientLight);\n        const directionalLight = new three__WEBPACK_IMPORTED_MODULE_1__.DirectionalLight(0xffffff, 1);\n        directionalLight.position.set(10, 20, 10);\n        directionalLight.castShadow = true;\n        directionalLight.shadow.mapSize.width = 2048;\n        directionalLight.shadow.mapSize.height = 2048;\n        scene.add(directionalLight);\n        // Adjust camera position for better view\n        camera.position.set(40, 40, 40);\n        camera.lookAt(0, 0, 0);\n        // Create warehouse elements\n        this.warehouse = this.createWarehouse();\n        this.zones = this.createZones();\n        this.trucks = new Map();\n        this.createZoneLabels();\n        // Initialize trucks with different capacities\n        const truckConfigs = [\n            {\n                id: \"truck-a\",\n                capacity: 1000,\n                position: new three__WEBPACK_IMPORTED_MODULE_1__.Vector3(-20, 0, 15)\n            },\n            {\n                id: \"truck-b\",\n                capacity: 1050,\n                position: new three__WEBPACK_IMPORTED_MODULE_1__.Vector3(-10, 0, 15)\n            },\n            {\n                id: \"truck-c\",\n                capacity: 1100,\n                position: new three__WEBPACK_IMPORTED_MODULE_1__.Vector3(0, 0, 15)\n            },\n            {\n                id: \"truck-d\",\n                capacity: 1150,\n                position: new three__WEBPACK_IMPORTED_MODULE_1__.Vector3(10, 0, 15)\n            },\n            {\n                id: \"truck-e\",\n                capacity: 1200,\n                position: new three__WEBPACK_IMPORTED_MODULE_1__.Vector3(20, 0, 15)\n            }\n        ];\n        truckConfigs.forEach((config)=>{\n            const truckModel = this.createTruck(config.position);\n            this.trucks.set(config.id, {\n                id: config.id,\n                capacity: config.capacity,\n                currentLoad: 0,\n                model: truckModel,\n                position: config.position.clone()\n            });\n        });\n        // Setup GUI\n        this.gui = new three_examples_jsm_libs_lil_gui_module_min_js__WEBPACK_IMPORTED_MODULE_3__.GUI();\n        this.setupGUI();\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzLzNkL1dhcmVob3VzZVNpbXVsYXRpb24udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBOEI7QUFDMkM7QUFDTjtBQUM5QjtBQVc5QixNQUFNSTtJQTZFSEMsa0JBQStCO1FBQ3JDLE1BQU1DLFlBQVksSUFBSU4sd0NBQVc7UUFFakMsUUFBUTtRQUNSLE1BQU1RLGdCQUFnQixJQUFJUixnREFBbUIsQ0FBQyxJQUFJO1FBQ2xELE1BQU1VLGdCQUFnQixJQUFJVix1REFBMEIsQ0FBQztZQUFFWSxPQUFPO1FBQVM7UUFDdkUsTUFBTUMsUUFBUSxJQUFJYix1Q0FBVSxDQUFDUSxlQUFlRTtRQUM1Q0csTUFBTUUsUUFBUSxDQUFDQyxDQUFDLEdBQUcsQ0FBQ0MsS0FBS0MsRUFBRSxHQUFHO1FBQzlCTCxNQUFNTSxhQUFhLEdBQUc7UUFDdEJiLFVBQVVjLEdBQUcsQ0FBQ1A7UUFFZCxRQUFRO1FBQ1IsTUFBTVEsZUFBZSxJQUFJckIsdURBQTBCLENBQUM7WUFBRVksT0FBTztRQUFTO1FBQ3RFLE1BQU1VLGVBQWUsSUFBSXRCLDhDQUFpQixDQUFDLElBQUksSUFBSTtRQUVuRCxNQUFNd0IsV0FBVyxJQUFJeEIsdUNBQVUsQ0FBQ3NCLGNBQWNEO1FBQzlDRyxTQUFTQyxRQUFRLENBQUNDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQztRQUM5QnBCLFVBQVVjLEdBQUcsQ0FBQ0k7UUFFZCxNQUFNRyxXQUFXLElBQUkzQix1Q0FBVSxDQUFDc0IsY0FBY0Q7UUFDOUNNLFNBQVNaLFFBQVEsQ0FBQ2EsQ0FBQyxHQUFHWCxLQUFLQyxFQUFFLEdBQUc7UUFDaENTLFNBQVNGLFFBQVEsQ0FBQ0MsR0FBRyxDQUFDLENBQUMsSUFBSSxJQUFJO1FBQy9CcEIsVUFBVWMsR0FBRyxDQUFDTztRQUVkLE1BQU1FLFlBQVksSUFBSTdCLHVDQUFVLENBQUNzQixjQUFjRDtRQUMvQ1EsVUFBVWQsUUFBUSxDQUFDYSxDQUFDLEdBQUdY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LFVBQVU7Z0JBQU03RCxVQUFVLElBQUl6QiwwQ0FBYSxDQUFDLElBQUksR0FBRztZQUFJO1lBQ3hFO2dCQUFFa0YsSUFBSTtnQkFBV0ksVUFBVTtnQkFBTTdELFVBQVUsSUFBSXpCLDBDQUFhLENBQUMsSUFBSSxHQUFHO1lBQUk7U0FDekU7UUFFRDRKLGFBQWE1RixPQUFPLENBQUM4RixDQUFBQTtZQUNuQixNQUFNQyxhQUFhLElBQUksQ0FBQzFILFdBQVcsQ0FBQ3lILE9BQU9ySSxRQUFRO1lBQ25ELElBQUksQ0FBQ3NELE1BQU0sQ0FBQ3JELEdBQUcsQ0FBQ29JLE9BQU81RSxFQUFFLEVBQUU7Z0JBQ3pCQSxJQUFJNEUsT0FBTzVFLEVBQUU7Z0JBQ2JJLFVBQVV3RSxPQUFPeEUsUUFBUTtnQkFDekJELGFBQWE7Z0JBQ2JMLE9BQU8rRTtnQkFDUHRJLFVBQVVxSSxPQUFPckksUUFBUSxDQUFDK0MsS0FBSztZQUNqQztRQUNGO1FBRUEsWUFBWTtRQUNaLElBQUksQ0FBQ3dCLEdBQUcsR0FBRyxJQUFJOUYsOEVBQUdBO1FBQ2xCLElBQUksQ0FBQ3FGLFFBQVE7SUFDZjtBQXdURiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy8zZC9XYXJlaG91c2VTaW11bGF0aW9uLnRzPzA5YjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgVEhSRUUgZnJvbSAndGhyZWUnXG5pbXBvcnQgeyBPcmJpdENvbnRyb2xzIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2NvbnRyb2xzL09yYml0Q29udHJvbHMnXG5pbXBvcnQgeyBHVUkgfSBmcm9tICd0aHJlZS9leGFtcGxlcy9qc20vbGlicy9saWwtZ3VpLm1vZHVsZS5taW4uanMnXG5pbXBvcnQgVFdFRU4gZnJvbSAnQHR3ZWVuanMvdHdlZW4uanMnXG5cbi8vIEFkZCBuZXcgaW50ZXJmYWNlIGZvciB0cnVjayBkYXRhXG5pbnRlcmZhY2UgVHJ1Y2tEYXRhIHtcbiAgaWQ6IHN0cmluZztcbiAgY2FwYWNpdHk6IG51bWJlcjtcbiAgY3VycmVudExvYWQ6IG51bWJlcjtcbiAgbW9kZWw6IFRIUkVFLkdyb3VwO1xuICBwb3NpdGlvbjogVEhSRUUuVmVjdG9yMztcbn1cblxuZXhwb3J0IGNsYXNzIFdhcmVob3VzZVNpbXVsYXRpb24ge1xuICBwcml2YXRlIHNjZW5lOiBUSFJFRS5TY2VuZVxuICBwcml2YXRlIGNhbWVyYTogVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmFcbiAgcHJpdmF0ZSByZW5kZXJlcjogVEhSRUUuV2ViR0xSZW5kZXJlclxuICBwcml2YXRlIGNvbnRyb2xzOiBPcmJpdENvbnRyb2xzXG4gIHByaXZhdGUgd2FyZWhvdXNlOiBUSFJFRS5Hcm91cFxuICBwcml2YXRlIHpvbmVzOiBUSFJFRS5Hcm91cFxuICBwcml2YXRlIHRydWNrczogTWFwPHN0cmluZywgVHJ1Y2tEYXRhPlxuICBwcml2YXRlIHpvbmVMYWJlbHM6IEhUTUxEaXZFbGVtZW50W11cbiAgcHJpdmF0ZSBndWk6IEdVSVxuICBwcml2YXRlIGludmVudG9yeTogTWFwPG51bWJlciwgVEhSRUUuTWVzaFtdPlxuICBwcml2YXRlIGN1cnJlbnRQcm9kdWN0VHlwZTogc3RyaW5nXG4gIHByaXZhdGUgc2VsZWN0ZWRab25lOiBudW1iZXJcbiAgcHJpdmF0ZSBzZWxlY3RlZFRydWNrOiBzdHJpbmdcbiAgcHJpdmF0ZSByZWFkb25seSBaT05FX0NBUEFDSVRZID0gOFxuXG4gIGNvbnN0cnVjdG9yKHNjZW5lOiBUSFJFRS5TY2VuZSwgY2FtZXJhOiBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSwgcmVuZGVyZXI6IFRIUkVFLldlYkdMUmVuZGVyZXIpIHtcbiAgICB0aGlzLnNjZW5lID0gc2NlbmVcbiAgICB0aGlzLmNhbWVyYSA9IGNhbWVyYVxuICAgIHRoaXMucmVuZGVyZXIgPSByZW5kZXJlclxuICAgIHRoaXMuaW52ZW50b3J5ID0gbmV3IE1hcCgpXG4gICAgdGhpcy56b25lTGFiZWxzID0gW11cbiAgICB0aGlzLmN1cnJlbnRQcm9kdWN0VHlwZSA9ICd3aGVlbCdcbiAgICB0aGlzLnNlbGVjdGVkWm9uZSA9IDBcbiAgICB0aGlzLnNlbGVjdGVkVHJ1Y2sgPSAndHJ1Y2stYSdcblxuICAgIC8vIFNldHVwIGNvbnRyb2xzXG4gICAgdGhpcy5jb250cm9scyA9IG5ldyBPcmJpdENvbnRyb2xzKGNhbWVyYSwgcmVuZGVyZXIuZG9tRWxlbWVudClcbiAgICB0aGlzLmNvbnRyb2xzLmVuYWJsZURhbXBpbmcgPSB0cnVlXG4gICAgdGhpcy5jb250cm9scy5kYW1waW5nRmFjdG9yID0gMC4wNVxuXG4gICAgLy8gQWRkIGxpZ2h0aW5nXG4gICAgY29uc3QgYW1iaWVudExpZ2h0ID0gbmV3IFRIUkVFLkFtYmllbnRMaWdodCgweGZmZmZmZiwgMC41KVxuICAgIHNjZW5lLmFkZChhbWJpZW50TGlnaHQpXG5cbiAgICBjb25zdCBkaXJlY3Rpb25hbExpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMHhmZmZmZmYsIDEpXG4gICAgZGlyZWN0aW9uYWxMaWdodC5wb3NpdGlvbi5zZXQoMTAsIDIwLCAxMClcbiAgICBkaXJlY3Rpb25hbExpZ2h0LmNhc3RTaGFkb3cgPSB0cnVlXG4gICAgZGlyZWN0aW9uYWxMaWdodC5zaGFkb3cubWFwU2l6ZS53aWR0aCA9IDIwNDhcbiAgICBkaXJlY3Rpb25hbExpZ2h0LnNoYWRvdy5tYXBTaXplLmhlaWdodCA9IDIwNDhcbiAgICBzY2VuZS5hZGQoZGlyZWN0aW9uYWxMaWdodClcblxuICAgIC8vIEFkanVzdCBjYW1lcmEgcG9zaXRpb24gZm9yIGJldHRlciB2aWV3XG4gICAgY2FtZXJhLnBvc2l0aW9uLnNldCg0MCwgNDAsIDQwKVxuICAgIGNhbWVyYS5sb29rQXQoMCwgMCwgMClcblxuICAgIC8vIENyZWF0ZSB3YXJlaG91c2UgZWxlbWVudHNcbiAgICB0aGlzLndhcmVob3VzZSA9IHRoaXMuY3JlYXRlV2FyZWhvdXNlKClcbiAgICB0aGlzLnpvbmVzID0gdGhpcy5jcmVhdGVab25lcygpXG4gICAgdGhpcy50cnVja3MgPSBuZXcgTWFwKClcbiAgICB0aGlzLmNyZWF0ZVpvbmVMYWJlbHMoKVxuXG4gICAgLy8gSW5pdGlhbGl6ZSB0cnVja3Mgd2l0aCBkaWZmZXJlbnQgY2FwYWNpdGllc1xuICAgIGNvbnN0IHRydWNrQ29uZmlncyA9IFtcbiAgICAgIHsgaWQ6ICd0cnVjay1hJywgY2FwYWNpdHk6IDEwMDAsIHBvc2l0aW9uOiBuZXcgVEhSRUUuVmVjdG9yMygtMjAsIDAsIDE1KSB9LFxuICAgICAgeyBpZDogJ3RydWNrLWInLCBjYXBhY2l0eTogMTA1MCwgcG9zaXRpb246IG5ldyBUSFJFRS5WZWN0b3IzKC0xMCwgMCwgMTUpIH0sXG4gICAgICB7IGlkOiAndHJ1Y2stYycsIGNhcGFjaXR5OiAxMTAwLCBwb3NpdGlvbjogbmV3IFRIUkVFLlZlY3RvcjMoMCwgMCwgMTUpIH0sXG4gICAgICB7IGlkOiAndHJ1Y2stZCcsIGNhcGFjaXR5OiAxMTUwLCBwb3NpdGlvbjogbmV3IFRIUkVFLlZlY3RvcjMoMTAsIDAsIDE1KSB9LFxuICAgICAgeyBpZDogJ3RydWNrLWUnLCBjYXBhY2l0eTogMTIwMCwgcG9zaXRpb246IG5ldyBUSFJFRS5WZWN0b3IzKDIwLCAwLCAxNSkgfVxuICAgIF07XG5cbiAgICB0cnVja0NvbmZpZ3MuZm9yRWFjaChjb25maWcgPT4ge1xuICAgICAgY29uc3QgdHJ1Y2tNb2RlbCA9IHRoaXMuY3JlYXRlVHJ1Y2soY29uZmlnLnBvc2l0aW9uKTtcbiAgICAgIHRoaXMudHJ1Y2tzLnNldChjb25maWcuaWQsIHtcbiAgICAgICAgaWQ6IGNvbmZpZy5pZCxcbiAgICAgICAgY2FwYWNpdHk6IGNvbmZpZy5jYXBhY2l0eSxcbiAgICAgICAgY3VycmVudExvYWQ6IDAsXG4gICAgICAgIG1vZGVsOiB0cnVja01vZGVsLFxuICAgICAgICBwb3NpdGlvbjogY29uZmlnLnBvc2l0aW9uLmNsb25lKClcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gU2V0dXAgR1VJXG4gICAgdGhpcy5ndWkgPSBuZXcgR1VJKClcbiAgICB0aGlzLnNldHVwR1VJKClcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlV2FyZWhvdXNlKCk6IFRIUkVFLkdyb3VwIHtcbiAgICBjb25zdCB3YXJlaG91c2UgPSBuZXcgVEhSRUUuR3JvdXAoKVxuICAgIFxuICAgIC8vIEZsb29yXG4gICAgY29uc3QgZmxvb3JHZW9tZXRyeSA9IG5ldyBUSFJFRS5QbGFuZUdlb21ldHJ5KDUwLCA1MClcbiAgICBjb25zdCBmbG9vck1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgY29sb3I6IDB4ODA4MDgwIH0pXG4gICAgY29uc3QgZmxvb3IgPSBuZXcgVEhSRUUuTWVzaChmbG9vckdlb21ldHJ5LCBmbG9vck1hdGVyaWFsKVxuICAgIGZsb29yLnJvdGF0aW9uLnggPSAtTWF0aC5QSSAvIDJcbiAgICBmbG9vci5yZWNlaXZlU2hhZG93ID0gdHJ1ZVxuICAgIHdhcmVob3VzZS5hZGQoZmxvb3IpXG5cbiAgICAvLyBXYWxsc1xuICAgIGNvbnN0IHdhbGxNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOiAweGNjY2NjYyB9KVxuICAgIGNvbnN0IHdhbGxHZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSg1MCwgMjAsIDEpXG4gICAgXG4gICAgY29uc3QgYmFja1dhbGwgPSBuZXcgVEhSRUUuTWVzaCh3YWxsR2VvbWV0cnksIHdhbGxNYXRlcmlhbClcbiAgICBiYWNrV2FsbC5wb3NpdGlvbi5zZXQoMCwgMTAsIC0yNSlcbiAgICB3YXJlaG91c2UuYWRkKGJhY2tXYWxsKVxuXG4gICAgY29uc3QgbGVmdFdhbGwgPSBuZXcgVEhSRUUuTWVzaCh3YWxsR2VvbWV0cnksIHdhbGxNYXRlcmlhbClcbiAgICBsZWZ0V2FsbC5yb3RhdGlvbi55ID0gTWF0aC5QSSAvIDJcbiAgICBsZWZ0V2FsbC5wb3NpdGlvbi5zZXQoLTI1LCAxMCwgMClcbiAgICB3YXJlaG91c2UuYWRkKGxlZnRXYWxsKVxuXG4gICAgY29uc3QgcmlnaHRXYWxsID0gbmV3IFRIUkVFLk1lc2god2FsbEdlb21ldHJ5LCB3YWxsTWF0ZXJpYWwpXG4gICAgcmlnaHRXYWxsLnJvdGF0aW9uLnkgPSBNYXRoLlBJIC8gMlxuICAgIHJpZ2h0V2FsbC5wb3NpdGlvbi5zZXQoMjUsIDEwLCAwKVxuICAgIHdhcmVob3VzZS5hZGQocmlnaHRXYWxsKVxuXG4gICAgdGhpcy5zY2VuZS5hZGQod2FyZWhvdXNlKVxuICAgIHJldHVybiB3YXJlaG91c2VcbiAgfVxuXG4gIHByaXZhdGUgY3JlYXRlWm9uZXMoKTogVEhSRUUuR3JvdXAge1xuICAgIGNvbnN0IHpvbmVzID0gbmV3IFRIUkVFLkdyb3VwKClcbiAgICBjb25zdCB6b25lR2VvbWV0cnkgPSBuZXcgVEhSRUUuQm94R2VvbWV0cnkoOCwgMC4xLCA4KVxuICAgIGNvbnN0IHpvbmVNYXRlcmlhbHMgPSBbXG4gICAgICBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHhmZjk5OTkgfSksXG4gICAgICBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHg5OWZmOTkgfSksXG4gICAgICBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHg5OTk5ZmYgfSksXG4gICAgICBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHhmZmZmOTkgfSksXG4gICAgICBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHhmZjk5ZmYgfSlcbiAgICBdXG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgY29uc3Qgem9uZSA9IG5ldyBUSFJFRS5NZXNoKHpvbmVHZW9tZXRyeSwgem9uZU1hdGVyaWFsc1tpXSlcbiAgICAgIHpvbmUucG9zaXRpb24uc2V0KC0xNiArIChpICogOCksIDAuMSwgMClcbiAgICAgIHpvbmUucmVjZWl2ZVNoYWRvdyA9IHRydWVcbiAgICAgIHpvbmVzLmFkZCh6b25lKVxuICAgIH1cblxuICAgIHRoaXMuc2NlbmUuYWRkKHpvbmVzKVxuICAgIHJldHVybiB6b25lc1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVUcnVjayhwb3NpdGlvbjogVEhSRUUuVmVjdG9yMyk6IFRIUkVFLkdyb3VwIHtcbiAgICBjb25zdCB0cnVjayA9IG5ldyBUSFJFRS5Hcm91cCgpXG4gICAgXG4gICAgLy8gVHJ1Y2sgYm9keVxuICAgIGNvbnN0IGJvZHlHZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSg2LCA0LCAxMClcbiAgICBjb25zdCBib2R5TWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHgzMzY2Y2MgfSlcbiAgICBjb25zdCBib2R5ID0gbmV3IFRIUkVFLk1lc2goYm9keUdlb21ldHJ5LCBib2R5TWF0ZXJpYWwpXG4gICAgYm9keS5wb3NpdGlvbi55ID0gMlxuICAgIHRydWNrLmFkZChib2R5KVxuXG4gICAgLy8gV2hlZWxzXG4gICAgY29uc3Qgd2hlZWxHZW9tZXRyeSA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDEsIDEsIDAuNSwgMTYpXG4gICAgY29uc3Qgd2hlZWxNYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOiAweDMzMzMzMyB9KVxuICAgIFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XG4gICAgICBjb25zdCB3aGVlbCA9IG5ldyBUSFJFRS5NZXNoKHdoZWVsR2VvbWV0cnksIHdoZWVsTWF0ZXJpYWwpXG4gICAgICB3aGVlbC5yb3RhdGlvbi56ID0gTWF0aC5QSSAvIDJcbiAgICAgIHdoZWVsLnBvc2l0aW9uLnNldChcbiAgICAgICAgaSA8IDIgPyAtMiA6IDIsXG4gICAgICAgIDAuNSxcbiAgICAgICAgaSAlIDIgPT09IDAgPyAtMyA6IDNcbiAgICAgIClcbiAgICAgIHRydWNrLmFkZCh3aGVlbClcbiAgICB9XG5cbiAgICAvLyBVcGRhdGUgdHJ1Y2sgbGFiZWxcbiAgICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgbGFiZWwuY2xhc3NOYW1lID0gJ3RydWNrLWxhYmVsJ1xuICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnZGF0YS10cnVjaycsIHBvc2l0aW9uLnRvU3RyaW5nKCkpXG4gICAgbGFiZWwuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnXG4gICAgbGFiZWwuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJ1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGFiZWwpXG5cbiAgICAvLyBBZGQgbGlnaHRzIHRvIHRydWNrXG4gICAgY29uc3QgdHJ1Y2tMaWdodCA9IG5ldyBUSFJFRS5Qb2ludExpZ2h0KDB4ZmZmZmZmLCAwLjUpXG4gICAgdHJ1Y2tMaWdodC5wb3NpdGlvbi5zZXQoMCwgNCwgMClcbiAgICB0cnVjay5hZGQodHJ1Y2tMaWdodClcblxuICAgIHRydWNrLnBvc2l0aW9uLmNvcHkocG9zaXRpb24pXG4gICAgdHJ1Y2suY2FzdFNoYWRvdyA9IHRydWVcbiAgICB0cnVjay50cmF2ZXJzZSgoY2hpbGQpID0+IHtcbiAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRIUkVFLk1lc2gpIHtcbiAgICAgICAgY2hpbGQuY2FzdFNoYWRvdyA9IHRydWVcbiAgICAgICAgY2hpbGQucmVjZWl2ZVNoYWRvdyA9IHRydWVcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgdGhpcy5zY2VuZS5hZGQodHJ1Y2spXG4gICAgcmV0dXJuIHRydWNrXG4gIH1cblxuICBjcmVhdGVab25lTGFiZWxzKCkge1xuICAgIC8vIFJlbW92ZSBleGlzdGluZyBsYWJlbHNcbiAgICB0aGlzLnpvbmVMYWJlbHMuZm9yRWFjaChsYWJlbCA9PiB7XG4gICAgICBpZiAobGFiZWwucGFyZW50RWxlbWVudCkge1xuICAgICAgICBsYWJlbC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGxhYmVsKVxuICAgICAgfVxuICAgIH0pXG4gICAgdGhpcy56b25lTGFiZWxzID0gW11cblxuICAgIC8vIENyZWF0ZSBuZXcgbGFiZWxzXG4gICAgdGhpcy56b25lcy5jaGlsZHJlbi5mb3JFYWNoKCh6b25lLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgbGFiZWwuY2xhc3NOYW1lID0gJ3pvbmUtbGFiZWwnXG4gICAgICBsYWJlbC50ZXh0Q29udGVudCA9IGBab25lICR7aW5kZXggKyAxfWBcbiAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQobGFiZWwpXG4gICAgICB0aGlzLnpvbmVMYWJlbHMucHVzaChsYWJlbClcbiAgICB9KVxuICB9XG5cbiAgdXBkYXRlWm9uZUxhYmVscygpIHtcbiAgICB0aGlzLnpvbmVzLmNoaWxkcmVuLmZvckVhY2goKHpvbmUsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBsYWJlbCA9IHRoaXMuem9uZUxhYmVsc1tpbmRleF1cbiAgICAgIGlmIChsYWJlbCkge1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHpvbmUucG9zaXRpb24uY2xvbmUoKVxuICAgICAgICBwb3NpdGlvbi5wcm9qZWN0KHRoaXMuY2FtZXJhKVxuICAgICAgICBcbiAgICAgICAgY29uc3QgeCA9IChwb3NpdGlvbi54ICogMC41ICsgMC41KSAqIHdpbmRvdy5pbm5lcldpZHRoXG4gICAgICAgIGNvbnN0IHkgPSAoLXBvc2l0aW9uLnkgKiAwLjUgKyAwLjUpICogd2luZG93LmlubmVySGVpZ2h0XG4gICAgICAgIFxuICAgICAgICBsYWJlbC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKC01MCUsIC01MCUpIHRyYW5zbGF0ZSgke3h9cHgsICR7eX1weClgXG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIFVwZGF0ZSB0cnVjayBsYWJlbHMgd2l0aCBiZXR0ZXIgdmlzaWJpbGl0eSBjaGVja1xuICAgIHRoaXMudHJ1Y2tzLmZvckVhY2goKHRydWNrKSA9PiB7XG4gICAgICBjb25zdCBwb3NpdGlvbiA9IHRydWNrLm1vZGVsLnBvc2l0aW9uLmNsb25lKClcbiAgICAgIHBvc2l0aW9uLnByb2plY3QodGhpcy5jYW1lcmEpXG4gICAgICBcbiAgICAgIGlmIChwb3NpdGlvbi56IDwgMSkge1xuICAgICAgICBjb25zdCB4ID0gKHBvc2l0aW9uLnggKiAwLjUgKyAwLjUpICogd2luZG93LmlubmVyV2lkdGhcbiAgICAgICAgY29uc3QgeSA9ICgtcG9zaXRpb24ueSAqIDAuNSArIDAuNSkgKiB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnRydWNrLWxhYmVsW2RhdGEtdHJ1Y2s9XCIke3RydWNrLmlkfVwiXWApXG4gICAgICAgIGlmIChsYWJlbCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgbGFiZWwuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJ1xuICAgICAgICAgIGxhYmVsLnRleHRDb250ZW50ID0gYCR7dHJ1Y2suaWQudG9VcHBlckNhc2UoKX1cXG4ke3RydWNrLmN1cnJlbnRMb2FkfS8ke3RydWNrLmNhcGFjaXR5fWBcbiAgICAgICAgICBsYWJlbC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlKC01MCUsIC01MCUpIHRyYW5zbGF0ZSgke3h9cHgsICR7eX1weClgXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgc2V0dXBHVUkoKSB7XG4gICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgcHJvZHVjdFR5cGU6ICd3aGVlbCcsXG4gICAgICB6b25lOiAwLFxuICAgICAgdHJ1Y2s6ICd0cnVjay1hJyxcbiAgICAgIGFkZFByb2R1Y3Q6ICgpID0+IHRoaXMuYWRkUHJvZHVjdFRvWm9uZSgpLFxuICAgICAgbG9hZEluVHJ1Y2s6ICgpID0+IHRoaXMucmVtb3ZlUHJvZHVjdEZyb21ab25lKCksXG4gICAgICBzdGFydFRydWNrOiAoKSA9PiB0aGlzLnN0YXJ0U2VsZWN0ZWRUcnVjaygpXG4gICAgfVxuXG4gICAgdGhpcy5ndWkuYWRkKHBhcmFtcywgJ3Byb2R1Y3RUeXBlJywgWyd3aGVlbCcsICdib3gnLCAnY3lsaW5kZXInXSlcbiAgICAgIC5vbkNoYW5nZSh2YWx1ZSA9PiB0aGlzLmN1cnJlbnRQcm9kdWN0VHlwZSA9IHZhbHVlKVxuICAgIFxuICAgIGNvbnN0IHpvbmVPcHRpb25zOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge31cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8PSA1OyBpKyspIHtcbiAgICAgIHpvbmVPcHRpb25zW2Bab25lICR7aX1gXSA9IGkgLSAxXG4gICAgfVxuICAgIHRoaXMuZ3VpLmFkZChwYXJhbXMsICd6b25lJywgem9uZU9wdGlvbnMpXG4gICAgICAub25DaGFuZ2UodmFsdWUgPT4gdGhpcy5zZWxlY3RlZFpvbmUgPSB2YWx1ZSlcblxuICAgIC8vIEFkZCB0cnVjayBzZWxlY3Rpb25cbiAgICBjb25zdCB0cnVja09wdGlvbnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fVxuICAgIHRoaXMudHJ1Y2tzLmZvckVhY2goKHRydWNrLCBpZCkgPT4ge1xuICAgICAgdHJ1Y2tPcHRpb25zW2Ake2lkLnRvVXBwZXJDYXNlKCl9ICgke3RydWNrLmNhcGFjaXR5fSlgXSA9IGlkXG4gICAgfSlcbiAgICB0aGlzLmd1aS5hZGQocGFyYW1zLCAndHJ1Y2snLCB0cnVja09wdGlvbnMpXG4gICAgICAub25DaGFuZ2UodmFsdWUgPT4gdGhpcy5zZWxlY3RlZFRydWNrID0gdmFsdWUpXG4gICAgXG4gICAgdGhpcy5ndWkuYWRkKHBhcmFtcywgJ2FkZFByb2R1Y3QnKVxuICAgIHRoaXMuZ3VpLmFkZChwYXJhbXMsICdsb2FkSW5UcnVjaycpXG4gICAgdGhpcy5ndWkuYWRkKHBhcmFtcywgJ3N0YXJ0VHJ1Y2snKVxuICB9XG5cbiAgYWRkUHJvZHVjdFRvWm9uZSgpIHtcbiAgICBjb25zdCB6b25lUHJvZHVjdHMgPSB0aGlzLmludmVudG9yeS5nZXQodGhpcy5zZWxlY3RlZFpvbmUpIHx8IFtdXG4gICAgaWYgKHpvbmVQcm9kdWN0cy5sZW5ndGggPj0gdGhpcy5aT05FX0NBUEFDSVRZKSB7XG4gICAgICBjb25zb2xlLndhcm4oYFpvbmUgJHt0aGlzLnNlbGVjdGVkWm9uZSArIDF9IGlzIGF0IGZ1bGwgY2FwYWNpdHkhYClcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGNvbnN0IHByb2R1Y3QgPSB0aGlzLmNyZWF0ZVByb2R1Y3QodGhpcy5jdXJyZW50UHJvZHVjdFR5cGUpXG4gICAgY29uc3Qgem9uZSA9IHRoaXMuem9uZXMuY2hpbGRyZW5bdGhpcy5zZWxlY3RlZFpvbmVdXG4gICAgXG4gICAgcHJvZHVjdC5wb3NpdGlvbi5jb3B5KHpvbmUucG9zaXRpb24pXG4gICAgcHJvZHVjdC5wb3NpdGlvbi55ID0gMiArIHpvbmVQcm9kdWN0cy5sZW5ndGggKiAwLjVcbiAgICB0aGlzLnNjZW5lLmFkZChwcm9kdWN0KVxuXG4gICAgaWYgKCF0aGlzLmludmVudG9yeS5oYXModGhpcy5zZWxlY3RlZFpvbmUpKSB7XG4gICAgICB0aGlzLmludmVudG9yeS5zZXQodGhpcy5zZWxlY3RlZFpvbmUsIFtdKVxuICAgIH1cbiAgICB0aGlzLmludmVudG9yeS5nZXQodGhpcy5zZWxlY3RlZFpvbmUpPy5wdXNoKHByb2R1Y3QpXG4gIH1cblxuICByZW1vdmVQcm9kdWN0RnJvbVpvbmUoKSB7XG4gICAgY29uc3QgcHJvZHVjdHMgPSB0aGlzLmludmVudG9yeS5nZXQodGhpcy5zZWxlY3RlZFpvbmUpXG4gICAgY29uc3QgdHJ1Y2sgPSB0aGlzLnRydWNrcy5nZXQodGhpcy5zZWxlY3RlZFRydWNrKVxuICAgIFxuICAgIGlmICghdHJ1Y2sgfHwgdHJ1Y2suY3VycmVudExvYWQgPj0gdHJ1Y2suY2FwYWNpdHkpIHtcbiAgICAgIGNvbnNvbGUud2FybihgVHJ1Y2sgJHt0aGlzLnNlbGVjdGVkVHJ1Y2sudG9VcHBlckNhc2UoKX0gaXMgYXQgZnVsbCBjYXBhY2l0eSFgKVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgaWYgKHByb2R1Y3RzICYmIHByb2R1Y3RzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IHByb2R1Y3QgPSBwcm9kdWN0cy5wb3AoKVxuICAgICAgaWYgKHByb2R1Y3QpIHtcbiAgICAgICAgdHJ1Y2suY3VycmVudExvYWQgKz0gMSAvLyBTaW1wbGlmaWVkIGxvYWQgY2FsY3VsYXRpb25cbiAgICAgICAgbmV3IFRXRUVOLlR3ZWVuKHByb2R1Y3QucG9zaXRpb24pXG4gICAgICAgICAgLnRvKHsgXG4gICAgICAgICAgICB4OiB0cnVjay5tb2RlbC5wb3NpdGlvbi54LCBcbiAgICAgICAgICAgIHk6IDIgKyAodHJ1Y2suY3VycmVudExvYWQgKiAwLjEpLCAvLyBTdGFjayBpdGVtcyBpbiB0cnVja1xuICAgICAgICAgICAgejogdHJ1Y2subW9kZWwucG9zaXRpb24ueiBcbiAgICAgICAgICB9LCAxMDAwKVxuICAgICAgICAgIC5lYXNpbmcoVFdFRU4uRWFzaW5nLlF1YWRyYXRpYy5PdXQpXG4gICAgICAgICAgLm9uQ29tcGxldGUoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zY2VuZS5yZW1vdmUocHJvZHVjdClcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5zdGFydCgpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgc3RhcnRTZWxlY3RlZFRydWNrKCkge1xuICAgIGNvbnN0IHRydWNrID0gdGhpcy50cnVja3MuZ2V0KHRoaXMuc2VsZWN0ZWRUcnVjaylcbiAgICBpZiAoIXRydWNrKSByZXR1cm5cblxuICAgIGNvbnN0IG9yaWdpbmFsUG9zaXRpb24gPSB0cnVjay5wb3NpdGlvbi5jbG9uZSgpXG4gICAgXG4gICAgbmV3IFRXRUVOLlR3ZWVuKHRydWNrLm1vZGVsLnBvc2l0aW9uKVxuICAgICAgLnRvKHsgejogMzAgfSwgMjAwMClcbiAgICAgIC5lYXNpbmcoVFdFRU4uRWFzaW5nLlF1YWRyYXRpYy5Jbk91dClcbiAgICAgIC5vbkNvbXBsZXRlKCgpID0+IHtcbiAgICAgICAgdHJ1Y2suY3VycmVudExvYWQgPSAwIC8vIFJlc2V0IGxvYWQgd2hlbiB0cnVjayBjb21wbGV0ZXMgZGVsaXZlcnlcbiAgICAgICAgdHJ1Y2subW9kZWwucG9zaXRpb24uY29weShvcmlnaW5hbFBvc2l0aW9uKVxuICAgICAgfSlcbiAgICAgIC5zdGFydCgpXG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVByb2R1Y3QodHlwZTogc3RyaW5nKTogVEhSRUUuTWVzaCB7XG4gICAgbGV0IGdlb21ldHJ5OiBUSFJFRS5CdWZmZXJHZW9tZXRyeVxuICAgIGxldCBtYXRlcmlhbDogVEhSRUUuTWF0ZXJpYWxcblxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAnd2hlZWwnOlxuICAgICAgICBnZW9tZXRyeSA9IG5ldyBUSFJFRS5Ub3J1c0dlb21ldHJ5KDAuNSwgMC4yLCAxNiwgMzIpXG4gICAgICAgIG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgY29sb3I6IDB4MzMzMzMzIH0pXG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICdib3gnOlxuICAgICAgICBnZW9tZXRyeSA9IG5ldyBUSFJFRS5Cb3hHZW9tZXRyeSgxLCAxLCAxKVxuICAgICAgICBtYXRlcmlhbCA9IG5ldyBUSFJFRS5NZXNoU3RhbmRhcmRNYXRlcmlhbCh7IGNvbG9yOiAweDk5NTUzMyB9KVxuICAgICAgICBicmVha1xuICAgICAgY2FzZSAnY3lsaW5kZXInOlxuICAgICAgICBnZW9tZXRyeSA9IG5ldyBUSFJFRS5DeWxpbmRlckdlb21ldHJ5KDAuNSwgMC41LCAxLCAxNilcbiAgICAgICAgbWF0ZXJpYWwgPSBuZXcgVEhSRUUuTWVzaFN0YW5kYXJkTWF0ZXJpYWwoeyBjb2xvcjogMHgzMzk5NTUgfSlcbiAgICAgICAgYnJlYWtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGdlb21ldHJ5ID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDEsIDEsIDEpXG4gICAgICAgIG1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hTdGFuZGFyZE1hdGVyaWFsKHsgY29sb3I6IDB4Y2NjY2NjIH0pXG4gICAgfVxuXG4gICAgY29uc3QgcHJvZHVjdCA9IG5ldyBUSFJFRS5NZXNoKGdlb21ldHJ5LCBtYXRlcmlhbClcbiAgICBwcm9kdWN0LmNhc3RTaGFkb3cgPSB0cnVlXG4gICAgcmV0dXJuIHByb2R1Y3RcbiAgfVxuXG4gIGFuaW1hdGUoKSB7XG4gICAgdGhpcy5jb250cm9scy51cGRhdGUoKVxuICAgIHRoaXMudXBkYXRlWm9uZUxhYmVscygpXG4gICAgdGhpcy5yZW5kZXJlci5yZW5kZXIodGhpcy5zY2VuZSwgdGhpcy5jYW1lcmEpXG4gIH1cblxuICBkaXNwb3NlKCkge1xuICAgIHRoaXMuZ3VpLmRlc3Ryb3koKVxuICAgIHRoaXMuem9uZUxhYmVscy5mb3JFYWNoKGxhYmVsID0+IHtcbiAgICAgIGlmIChsYWJlbC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgIGxhYmVsLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQobGFiZWwpXG4gICAgICB9XG4gICAgfSlcbiAgICB0aGlzLnNjZW5lLnRyYXZlcnNlKChvYmplY3QpID0+IHtcbiAgICAgIGlmIChvYmplY3QgaW5zdGFuY2VvZiBUSFJFRS5NZXNoKSB7XG4gICAgICAgIG9iamVjdC5nZW9tZXRyeS5kaXNwb3NlKClcbiAgICAgICAgaWYgKG9iamVjdC5tYXRlcmlhbCBpbnN0YW5jZW9mIFRIUkVFLk1hdGVyaWFsKSB7XG4gICAgICAgICAgb2JqZWN0Lm1hdGVyaWFsLmRpc3Bvc2UoKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcbiAgICB0aGlzLmludmVudG9yeS5jbGVhcigpXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRydWNrLWxhYmVsJykuZm9yRWFjaChsYWJlbCA9PiB7XG4gICAgICBpZiAobGFiZWwucGFyZW50RWxlbWVudCkge1xuICAgICAgICBsYWJlbC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGxhYmVsKVxuICAgICAgfVxuICAgIH0pXG4gIH1cbn0iXSwibmFtZXMiOlsiVEhSRUUiLCJPcmJpdENvbnRyb2xzIiwiR1VJIiwiVFdFRU4iLCJXYXJlaG91c2VTaW11bGF0aW9uIiwiY3JlYXRlV2FyZWhvdXNlIiwid2FyZWhvdXNlIiwiR3JvdXAiLCJmbG9vckdlb21ldHJ5IiwiUGxhbmVHZW9tZXRyeSIsImZsb29yTWF0ZXJpYWwiLCJNZXNoU3RhbmRhcmRNYXRlcmlhbCIsImNvbG9yIiwiZmxvb3IiLCJNZXNoIiwicm90YXRpb24iLCJ4IiwiTWF0aCIsIlBJIiwicmVjZWl2ZVNoYWRvdyIsImFkZCIsIndhbGxNYXRlcmlhbCIsIndhbGxHZW9tZXRyeSIsIkJveEdlb21ldHJ5IiwiYmFja1dhbGwiLCJwb3NpdGlvbiIsInNldCIsImxlZnRXYWxsIiwieSIsInJpZ2h0V2FsbCIsInNjZW5lIiwiY3JlYXRlWm9uZXMiLCJ6b25lcyIsInpvbmVHZW9tZXRyeSIsInpvbmVNYXRlcmlhbHMiLCJpIiwiem9uZSIsImNyZWF0ZVRydWNrIiwidHJ1Y2siLCJib2R5R2VvbWV0cnkiLCJib2R5TWF0ZXJpYWwiLCJib2R5Iiwid2hlZWxHZW9tZXRyeSIsIkN5bGluZGVyR2VvbWV0cnkiLCJ3aGVlbE1hdGVyaWFsIiwid2hlZWwiLCJ6IiwibGFiZWwiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc05hbWUiLCJzZXRBdHRyaWJ1dGUiLCJ0b1N0cmluZyIsInN0eWxlIiwidmlzaWJpbGl0eSIsImFwcGVuZENoaWxkIiwidHJ1Y2tMaWdodCIsIlBvaW50TGlnaHQiLCJjb3B5IiwiY2FzdFNoYWRvdyIsInRyYXZlcnNlIiwiY2hpbGQiLCJjcmVhdGVab25lTGFiZWxzIiwiem9uZUxhYmVscyIsImZvckVhY2giLCJwYXJlbnRFbGVtZW50IiwicmVtb3ZlQ2hpbGQiLCJjaGlsZHJlbiIsImluZGV4IiwidGV4dENvbnRlbnQiLCJwdXNoIiwidXBkYXRlWm9uZUxhYmVscyIsImNsb25lIiwicHJvamVjdCIsImNhbWVyYSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsInRyYW5zZm9ybSIsInRydWNrcyIsIm1vZGVsIiwicXVlcnlTZWxlY3RvciIsImlkIiwiSFRNTEVsZW1lbnQiLCJ0b1VwcGVyQ2FzZSIsImN1cnJlbnRMb2FkIiwiY2FwYWNpdHkiLCJzZXR1cEdVSSIsInBhcmFtcyIsInByb2R1Y3RUeXBlIiwiYWRkUHJvZHVjdCIsImFkZFByb2R1Y3RUb1pvbmUiLCJsb2FkSW5UcnVjayIsInJlbW92ZVByb2R1Y3RGcm9tWm9uZSIsInN0YXJ0VHJ1Y2siLCJzdGFydFNlbGVjdGVkVHJ1Y2siLCJndWkiLCJvbkNoYW5nZSIsInZhbHVlIiwiY3VycmVudFByb2R1Y3RUeXBlIiwiem9uZU9wdGlvbnMiLCJzZWxlY3RlZFpvbmUiLCJ0cnVja09wdGlvbnMiLCJzZWxlY3RlZFRydWNrIiwiem9uZVByb2R1Y3RzIiwiaW52ZW50b3J5IiwiZ2V0IiwibGVuZ3RoIiwiWk9ORV9DQVBBQ0lUWSIsImNvbnNvbGUiLCJ3YXJuIiwicHJvZHVjdCIsImNyZWF0ZVByb2R1Y3QiLCJoYXMiLCJwcm9kdWN0cyIsInBvcCIsIlR3ZWVuIiwidG8iLCJlYXNpbmciLCJFYXNpbmciLCJRdWFkcmF0aWMiLCJPdXQiLCJvbkNvbXBsZXRlIiwicmVtb3ZlIiwic3RhcnQiLCJvcmlnaW5hbFBvc2l0aW9uIiwiSW5PdXQiLCJ0eXBlIiwiZ2VvbWV0cnkiLCJtYXRlcmlhbCIsIlRvcnVzR2VvbWV0cnkiLCJhbmltYXRlIiwiY29udHJvbHMiLCJ1cGRhdGUiLCJyZW5kZXJlciIsInJlbmRlciIsImRpc3Bvc2UiLCJkZXN0cm95Iiwib2JqZWN0IiwiTWF0ZXJpYWwiLCJjbGVhciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjb25zdHJ1Y3RvciIsIk1hcCIsImRvbUVsZW1lbnQiLCJlbmFibGVEYW1waW5nIiwiZGFtcGluZ0ZhY3RvciIsImFtYmllbnRMaWdodCIsIkFtYmllbnRMaWdodCIsImRpcmVjdGlvbmFsTGlnaHQiLCJEaXJlY3Rpb25hbExpZ2h0Iiwic2hhZG93IiwibWFwU2l6ZSIsIndpZHRoIiwiaGVpZ2h0IiwibG9va0F0IiwidHJ1Y2tDb25maWdzIiwiVmVjdG9yMyIsImNvbmZpZyIsInRydWNrTW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/3d/WarehouseSimulation.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/3d/WarehouseVisualization.tsx":
/*!******************************************************!*\
  !*** ./src/components/3d/WarehouseVisualization.tsx ***!
  \******************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WarehouseVisualization: function() { return /* binding */ WarehouseVisualization; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! three */ \"(app-pages-browser)/./node_modules/three/build/three.core.js\");\n/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! three */ \"(app-pages-browser)/./node_modules/three/build/three.module.js\");\n/* harmony import */ var _tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @tweenjs/tween.js */ \"(app-pages-browser)/./node_modules/@tweenjs/tween.js/dist/tween.esm.js\");\n/* harmony import */ var _WarehouseSimulation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./WarehouseSimulation */ \"(app-pages-browser)/./src/components/3d/WarehouseSimulation.ts\");\n/* __next_internal_client_entry_do_not_use__ WarehouseVisualization auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nfunction WarehouseVisualization() {\n    _s();\n    const containerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!containerRef.current) return;\n        // Initialize Three.js scene\n        const scene = new three__WEBPACK_IMPORTED_MODULE_4__.Scene();\n        scene.background = new three__WEBPACK_IMPORTED_MODULE_4__.Color(0x333333);\n        const camera = new three__WEBPACK_IMPORTED_MODULE_4__.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n        camera.position.set(40, 40, 40);\n        const renderer = new three__WEBPACK_IMPORTED_MODULE_5__.WebGLRenderer({\n            antialias: true,\n            alpha: false\n        });\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        renderer.setPixelRatio(window.devicePixelRatio);\n        renderer.shadowMap.enabled = true;\n        renderer.shadowMap.type = three__WEBPACK_IMPORTED_MODULE_4__.PCFSoftShadowMap;\n        containerRef.current.appendChild(renderer.domElement);\n        // Initialize the simulation\n        const simulation = new _WarehouseSimulation__WEBPACK_IMPORTED_MODULE_3__.WarehouseSimulation(scene, camera, renderer);\n        // Animation loop\n        function animate() {\n            requestAnimationFrame(animate);\n            _tweenjs_tween_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].update();\n            simulation.animate();\n        }\n        animate();\n        // Handle window resize\n        const handleResize = ()=>{\n            camera.aspect = window.innerWidth / window.innerHeight;\n            camera.updateProjectionMatrix();\n            renderer.setSize(window.innerWidth, window.innerHeight);\n            simulation.createZoneLabels();\n        };\n        window.addEventListener(\"resize\", handleResize);\n        // Cleanup\n        return ()=>{\n            var _containerRef_current;\n            window.removeEventListener(\"resize\", handleResize);\n            simulation.dispose();\n            renderer.dispose();\n            (_containerRef_current = containerRef.current) === null || _containerRef_current === void 0 ? void 0 : _containerRef_current.removeChild(renderer.domElement);\n        };\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: containerRef,\n        className: \"w-full h-full\"\n    }, void 0, false, {\n        fileName: \"/Users/arvindkumarchandramouleeswaran/CODEFEST2/src/components/3d/WarehouseVisualization.tsx\",\n        lineNumber: 63,\n        columnNumber: 10\n    }, this);\n}\n_s(WarehouseVisualization, \"8puyVO4ts1RhCfXUmci3vLI3Njw=\");\n_c = WarehouseVisualization;\nvar _c;\n$RefreshReg$(_c, \"WarehouseVisualization\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzLzNkL1dhcmVob3VzZVZpc3VhbGl6YXRpb24udHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFFeUM7QUFDWDtBQUdPO0FBQ3NCO0FBRXBELFNBQVNLOztJQUNkLE1BQU1DLGVBQWVMLDZDQUFNQSxDQUFpQjtJQUU1Q0QsZ0RBQVNBLENBQUM7UUFDUixJQUFJLENBQUNNLGFBQWFDLE9BQU8sRUFBRTtRQUUzQiw0QkFBNEI7UUFDNUIsTUFBTUMsUUFBUSxJQUFJTix3Q0FBVztRQUM3Qk0sTUFBTUUsVUFBVSxHQUFHLElBQUlSLHdDQUFXLENBQUM7UUFFbkMsTUFBTVUsU0FBUyxJQUFJVixvREFBdUIsQ0FBQyxJQUFJWSxPQUFPQyxVQUFVLEdBQUdELE9BQU9FLFdBQVcsRUFBRSxLQUFLO1FBQzVGSixPQUFPSyxRQUFRLENBQUNDLEdBQUcsQ0FBQyxJQUFJLElBQUk7UUFFNUIsTUFBTUMsV0FBVyxJQUFJakIsZ0RBQW1CLENBQUM7WUFDdkNtQixXQUFXO1lBQ1hDLE9BQU87UUFDVDtRQUVBSCxTQUFTSSxPQUFPLENBQUNULE9BQU9DLFVBQVUsRUFBRUQsT0FBT0UsV0FBVztRQUN0REcsU0FBU0ssYUFBYSxDQUFDVixPQUFPVyxnQkFBZ0I7UUFDOUNOLFNBQVNPLFNBQVMsQ0FBQ0MsT0FBTyxHQUFHO1FBQzdCUixTQUFTTyxTQUFTLENBQUNFLElBQUksR0FBRzFCLG1EQUFzQjtRQUNoREksYUFBYUMsT0FBTyxDQUFDdUIsV0FBVyxDQUFDWCxTQUFTWSxVQUFVO1FBRXBELDRCQUE0QjtRQUM1QixNQUFNQyxhQUFhLElBQUk1QixxRUFBbUJBLENBQUNJLE9BQU9JLFFBQVFPO1FBRTFELGlCQUFpQjtRQUNqQixTQUFTYztZQUNQQyxzQkFBc0JEO1lBQ3RCOUIsZ0VBQVk7WUFDWjZCLFdBQVdDLE9BQU87UUFDcEI7UUFDQUE7UUFFQSx1QkFBdUI7UUFDdkIsTUFBTUcsZUFBZTtZQUNuQnhCLE9BQU95QixNQUFNLEdBQUd2QixPQUFPQyxVQUFVLEdBQUdELE9BQU9FLFdBQVc7WUFDdERKLE9BQU8wQixzQkFBc0I7WUFDN0JuQixTQUFTSSxPQUFPLENBQUNULE9BQU9DLFVBQVUsRUFBRUQsT0FBT0UsV0FBVztZQUN0RGdCLFdBQVdPLGdCQUFnQjtRQUM3QjtRQUNBekIsT0FBTzBCLGdCQUFnQixDQUFDLFVBQVVKO1FBRWxDLFVBQVU7UUFDVixPQUFPO2dCQUlMOUI7WUFIQVEsT0FBTzJCLG1CQUFtQixDQUFDLFVBQVVMO1lBQ3JDSixXQUFXVSxPQUFPO1lBQ2xCdkIsU0FBU3VCLE9BQU87YUFDaEJwQyx3QkFBQUEsYUFBYUMsT0FBTyxjQUFwQkQsNENBQUFBLHNCQUFzQnFDLFdBQVcsQ0FBQ3hCLFNBQVNZLFVBQVU7UUFDdkQ7SUFDRixHQUFHLEVBQUU7SUFFTCxxQkFBTyw4REFBQ2E7UUFBSUMsS0FBS3ZDO1FBQWN3QyxXQUFVOzs7Ozs7QUFDM0M7R0F0RGdCekM7S0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvM2QvV2FyZWhvdXNlVmlzdWFsaXphdGlvbi50c3g/NzJlMyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCdcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYgfSBmcm9tICdyZWFjdCdcbmltcG9ydCAqIGFzIFRIUkVFIGZyb20gJ3RocmVlJ1xuaW1wb3J0IHsgT3JiaXRDb250cm9scyB9IGZyb20gJ3RocmVlL2V4YW1wbGVzL2pzbS9jb250cm9scy9PcmJpdENvbnRyb2xzJ1xuaW1wb3J0IHsgR1VJIH0gZnJvbSAndGhyZWUvZXhhbXBsZXMvanNtL2xpYnMvbGlsLWd1aS5tb2R1bGUubWluLmpzJ1xuaW1wb3J0IFRXRUVOIGZyb20gJ0B0d2VlbmpzL3R3ZWVuLmpzJ1xuaW1wb3J0IHsgV2FyZWhvdXNlU2ltdWxhdGlvbiB9IGZyb20gJy4vV2FyZWhvdXNlU2ltdWxhdGlvbidcblxuZXhwb3J0IGZ1bmN0aW9uIFdhcmVob3VzZVZpc3VhbGl6YXRpb24oKSB7XG4gIGNvbnN0IGNvbnRhaW5lclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbClcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghY29udGFpbmVyUmVmLmN1cnJlbnQpIHJldHVyblxuXG4gICAgLy8gSW5pdGlhbGl6ZSBUaHJlZS5qcyBzY2VuZVxuICAgIGNvbnN0IHNjZW5lID0gbmV3IFRIUkVFLlNjZW5lKClcbiAgICBzY2VuZS5iYWNrZ3JvdW5kID0gbmV3IFRIUkVFLkNvbG9yKDB4MzMzMzMzKVxuICAgIFxuICAgIGNvbnN0IGNhbWVyYSA9IG5ldyBUSFJFRS5QZXJzcGVjdGl2ZUNhbWVyYSg3NSwgd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQsIDAuMSwgMTAwMClcbiAgICBjYW1lcmEucG9zaXRpb24uc2V0KDQwLCA0MCwgNDApXG4gICAgXG4gICAgY29uc3QgcmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7IFxuICAgICAgYW50aWFsaWFzOiB0cnVlLFxuICAgICAgYWxwaGE6IGZhbHNlXG4gICAgfSlcbiAgICBcbiAgICByZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpXG4gICAgcmVuZGVyZXIuc2V0UGl4ZWxSYXRpbyh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbylcbiAgICByZW5kZXJlci5zaGFkb3dNYXAuZW5hYmxlZCA9IHRydWVcbiAgICByZW5kZXJlci5zaGFkb3dNYXAudHlwZSA9IFRIUkVFLlBDRlNvZnRTaGFkb3dNYXBcbiAgICBjb250YWluZXJSZWYuY3VycmVudC5hcHBlbmRDaGlsZChyZW5kZXJlci5kb21FbGVtZW50KVxuXG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgc2ltdWxhdGlvblxuICAgIGNvbnN0IHNpbXVsYXRpb24gPSBuZXcgV2FyZWhvdXNlU2ltdWxhdGlvbihzY2VuZSwgY2FtZXJhLCByZW5kZXJlcilcblxuICAgIC8vIEFuaW1hdGlvbiBsb29wXG4gICAgZnVuY3Rpb24gYW5pbWF0ZSgpIHtcbiAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKVxuICAgICAgVFdFRU4udXBkYXRlKClcbiAgICAgIHNpbXVsYXRpb24uYW5pbWF0ZSgpXG4gICAgfVxuICAgIGFuaW1hdGUoKVxuXG4gICAgLy8gSGFuZGxlIHdpbmRvdyByZXNpemVcbiAgICBjb25zdCBoYW5kbGVSZXNpemUgPSAoKSA9PiB7XG4gICAgICBjYW1lcmEuYXNwZWN0ID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHRcbiAgICAgIGNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KClcbiAgICAgIHJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodClcbiAgICAgIHNpbXVsYXRpb24uY3JlYXRlWm9uZUxhYmVscygpXG4gICAgfVxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpXG5cbiAgICAvLyBDbGVhbnVwXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpXG4gICAgICBzaW11bGF0aW9uLmRpc3Bvc2UoKVxuICAgICAgcmVuZGVyZXIuZGlzcG9zZSgpXG4gICAgICBjb250YWluZXJSZWYuY3VycmVudD8ucmVtb3ZlQ2hpbGQocmVuZGVyZXIuZG9tRWxlbWVudClcbiAgICB9XG4gIH0sIFtdKVxuXG4gIHJldHVybiA8ZGl2IHJlZj17Y29udGFpbmVyUmVmfSBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsXCIgLz5cbn0gIl0sIm5hbWVzIjpbInVzZUVmZmVjdCIsInVzZVJlZiIsIlRIUkVFIiwiVFdFRU4iLCJXYXJlaG91c2VTaW11bGF0aW9uIiwiV2FyZWhvdXNlVmlzdWFsaXphdGlvbiIsImNvbnRhaW5lclJlZiIsImN1cnJlbnQiLCJzY2VuZSIsIlNjZW5lIiwiYmFja2dyb3VuZCIsIkNvbG9yIiwiY2FtZXJhIiwiUGVyc3BlY3RpdmVDYW1lcmEiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJwb3NpdGlvbiIsInNldCIsInJlbmRlcmVyIiwiV2ViR0xSZW5kZXJlciIsImFudGlhbGlhcyIsImFscGhhIiwic2V0U2l6ZSIsInNldFBpeGVsUmF0aW8iLCJkZXZpY2VQaXhlbFJhdGlvIiwic2hhZG93TWFwIiwiZW5hYmxlZCIsInR5cGUiLCJQQ0ZTb2Z0U2hhZG93TWFwIiwiYXBwZW5kQ2hpbGQiLCJkb21FbGVtZW50Iiwic2ltdWxhdGlvbiIsImFuaW1hdGUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ1cGRhdGUiLCJoYW5kbGVSZXNpemUiLCJhc3BlY3QiLCJ1cGRhdGVQcm9qZWN0aW9uTWF0cml4IiwiY3JlYXRlWm9uZUxhYmVscyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGlzcG9zZSIsInJlbW92ZUNoaWxkIiwiZGl2IiwicmVmIiwiY2xhc3NOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/3d/WarehouseVisualization.tsx\n"));

/***/ })

});